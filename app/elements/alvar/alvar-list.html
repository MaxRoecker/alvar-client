<dom-module id="alvar-list">
  <link rel="import" href="../../bower_components/polymer/polymer.html" />
  <link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html" />
  <link rel="import" href="../../bower_components/iron-list/iron-list.html" />
  <link rel="import" href="../../bower_components/iron-icon/iron-icon.html" />
  <link rel="import" href="../../bower_components/paper-material/paper-material.html">
  <link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
  <link rel="import" href="../../bower_components/paper-item/paper-item.html">
  <link rel="import" href="../../bower_components/paper-item/paper-item-body.html">
  <link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
  <link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
  <style>
    paper-material {
      width: calc(98% - 46px);
      border-radius: 2px;
      background: white;
      padding: 16px;
      margin-top: 10px;
      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
    }

  </style>
  <template>
    <iron-ajax url="http://0.0.0.0:3000/api/Resources?filter[include]=archives" last-response="{{data}}"
    auto></iron-ajax>
    <paper-material elevation="1">
      <iron-list items="[[data]]" as="item" style="height: 256rem;">
        <template>
          <paper-item>
            <paper-item-body two-line>
              <div>[[item.name]]</div>
              <div secondary>[[item.description]]</div>
            </paper-item-body>
            <a id="[[item.id]]" style="display: inline-block;" href="[[item.archives.value]]">
              <paper-icon-button icon="file-download"></paper-icon-button>
              <paper-tooltip>Download</paper-tooltip>
            </a>

          </paper-item>
        </template>
      </iron-list>
    </paper-material>
  </template>

  <script>
    (function() {
      Polymer({
        is: 'alvar-list',
        properties: {
          data: {
            type: Array,
            notify: true,
          }
        },
        ready: function() {
          this.data = [];
        }
      });
    })();

  </script>

</dom-module>
